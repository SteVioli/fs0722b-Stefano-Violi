<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
        <div id="lista">
            
        </div>
        <button id="crea">Crea</button>
        <button id="elimina">Elimina</button>


    <script>
        //crea elementi
        let crea = document.querySelector('#crea');
        
        let arrayDiv = [];

        let i = 0;

        crea.addEventListener('click' , function(){

            let div = document.createElement('div');
            let span = document.createElement('span');
            let divText = document.createTextNode('Div Creato' + i);
            let spanText = document.createTextNode(' Span figlio creato');
             //div.textContent = 'div creato';
            
            
            arrayDiv.push(div);

            
            span.append(spanText);
            div.append(divText , span);  /* SONO DUE MODI UGUALI , il secondo deve creare informaticamente, ma fisicamente non c'è, poi lo devi riportare */
            document.querySelector('#lista').append(div)
            
            div.addEventListener('click' , function(){
                
                console.log(div.childNodes)//avrò un Array con tutto il contenuto dell'elemento selezionato
                console.log(div.childNodes[0].textContent)//
                console.log(div.firstChild.textContent)//           
                console.log(div.childNodes[1].textContent)//
                console.log(div.lastChild.textContent)//testo dello span figlio del div
                console.log(div.parentNode) //elemento genitore
                console.log(div.nextElementSibling);//l'elemento fratello successivo

                //div.remove();  SE VOGLIO ELIMINIARE L'ELEMENTO AL CLICK
                           


                
            })
            i++;
        });
        
        //elimina gli elementi 
        let elimina = document.querySelector('#elimina');
        elimina.addEventListener('click' , function(){
            
            //let arrayDiv = document.querySelectorAll('#lista > div')
            for(let el of arrayDiv){
                el.remove();
            }
            arrayDiv =[];//se ho creato la variabile globale conviene anche 
            
        })

            


    </script>


</body>
</html>